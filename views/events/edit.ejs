<div class="data-form">
  <form method="POST" action="<%=`/events/${event._id}/update?_method=PUT`%>">
    <input type="hidden" name="_method" value="PUT">
    <div>
      <h2 class="welcome">Edit event!</h2>
    </div>
      <div>
        <label for="title">Title:</label>
        <input type="text" name="title" id="title" value="<%= event.title %>" required>
      </div>
      <div>
        <label for="description">Description:</label>
        <textarea name="description" id="description" rows="4" cols="50" required><%= event.description %></textarea>
      </div>
      <div>
        <label for="location">Location:</label>
        <input type="text" name="location" id="location" value="<%= event.location %>" required>
      </div>
      <div>
        <label for="isOnline">IsOnline:</label>
        <select name="isOnline" id="isOnline" required>
          <option value="true" <%= event.isOnline ? 'selected' : '' %>>Yes</option>
          <option value="false" <%= !event.isOnline ? 'selected' : '' %>>No</option>
        </select>
      </div>
      <div>
        <label for="organizer">Organizer:</label>
        <select type="organizer" name="organizer" id="organizer" required>
          <% users.forEach(function(user) { %>
            <option value="<%= user._id %>" <%= user._id.equals(event.organizer._id) ? 'selected' : '' %>><%= user.name %></option>
          <% }); %>
        </select>
      </div>
      <div>
        <label for="attendees">Attendees:</label>
        <select type="attendees" name="attendees" id="attendees" multiple>
          <% users.forEach(function(user) { %>
            <option value="<%= user._id %>" <%= event.attendees.some(attendee => attendee._id.equals(user._id)) ? 'selected' : '' %>><%= user.name %></option>
          <% }); %>
        </select>
      </div>
      <div>
        <label for="registrationLink">RegistrationLink:</label>
        <input type="text" name="registrationLink" id="registrationLink" value="<%= event.registrationLink %>" required>
      </div>
      <div>
        <label for="startDate">Start Date:</label>
        <input type="date" name="startDate" id="startDate" value="<%= event.startDate.toISOString().split('T')[0] %>" required>
      </div>
      <div>
        <label for="endDate">End Date:</label>
        <input type="date" name="endDate" id="endDate" value="<%= event.endDate.toISOString().split('T')[0] %>" required>
      </div>
      <div>
      <button type="submit">Save Changes</button>
      </div>
  </form>
</div>
